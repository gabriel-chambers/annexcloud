var gdsih_plugin_core;!function(o,t){(gdsih_plugin_core={init:function(){gdsih_plugin_core.dialogs.basic(),"csp-reports"!==gdsih_data.page&&"xxp-reports"!==gdsih_data.page||(gdsih_plugin_core.dialogs.reports(),gdsih_plugin_core.reports.init()),"tools"===gdsih_data.page&&"export"===gdsih_data.panel&&gdsih_plugin_core.tools.export()},dialogs:{classes:function(i){var o="wp-dialog d4p-dialog gdsih-modal-dialog";return""!==i&&(o+=" "+i),o},icons:function(i){o(i).next().find(".ui-dialog-buttonset button").each(function(){var i=o(this).data("icon");""!==i&&o(this).find("span.ui-button-text").prepend(gdsih_data["button_icon_"+i])})},defaults:function(){return{width:480,height:"auto",minHeight:24,autoOpen:!1,resizable:!1,modal:!0,closeOnEscape:!1,zIndex:3e5}},reports:function(){var i=o.extend({},gdsih_plugin_core.dialogs.defaults(),{width:750,dialogClass:gdsih_plugin_core.dialogs.classes("gdsih-dialog-hidex"),buttons:[{id:"gdsih-log-ok",class:"gdsih-dialog-button-ok gdsih-button-focus",text:gdsih_data.dialog_button_ok,data:{icon:"ok"},click:function(){o("#gdsih-dialog-log-details").wpdialog("close")}}]});o("#gdsih-dialog-log-details").wpdialog(i),gdsih_plugin_core.dialogs.icons("#gdsih-dialog-log-details")},basic:function(){var i=o.extend({},gdsih_plugin_core.dialogs.defaults(),{width:640,dialogClass:gdsih_plugin_core.dialogs.classes("gdsih-dialog-hidex"),buttons:{OK:function(){o("#gdsih-dialog-please-wait").wpdialog("close")}}});o("#gdsih-dialog-please-wait").wpdialog(i)}},reports:{init:function(){o(".gdsih-log-view-event-data").click(function(i){i.preventDefault();i=o(this).attr("href").substr(1);o("#gdsih-dialog-log-details .gdsih-inner-content").html(o("#gdsih-event-content-"+i).html()),o("#gdsih-dialog-log-details").wpdialog("open")})}},tools:{export:function(){o("#gdsih-tool-export").click(function(i){i.preventDefault(),t.location=o("#gdsih-export-url").val()})}}}).init()}(jQuery,window,document);